---
title: 【设计模式】关于设计模式的思考
date: 2021-10-06 21:07:30
tags: [设计模式]
categories: [随笔]
---

### 困扰

​		从2014年的冬天到现在，已经转眼写了7年程序，经历了面对问题不知道怎么写好，到可以在脑子里默写代码，再到现在重新回到不知怎么写才“最好”，是时候把一些思考记录下来了，说不定能悟出什么新境界。

​		最近考虑颇多的一个问题，是“优雅”。“优雅“的代码即是当前我心目中的”好“代码，”优雅“的代码应当兼具：长度合适、执行效率高、阅读效率高、修改效率高。

​        “优雅”的代码，并非是什么程序员的浪漫之类的追求，而是长期维护多个工程之后，自然心生的需求。因为没有人愿意面对遗留工程里的“屎山”。但是“优雅”的代码却是昂贵的，无法一蹴而就，要经历几次重构，要付出额外的时间，才能让程序生长进化到最合适的形态。

​		劳动者必须要把先进生产力掌握自己手里！必须有理论指导革命！

​		我于是向设计模式取经，试图寻找“优雅”的真谛。我知道软件编程没有银弹，最好的模式是没有模式。GoF的书里也强调设计模式的教学性指。设计模式像是一本剑谱，是“习剑之法”，不是“战斗技巧“。我需要形式更简单的法则。

​		设计模式的书，一般开篇不是6条原则吗？哦，是的，的确，但是看后面23种的模式时，很多模式明明是反原则的。可遵守也可不遵守的原则？或许这背后有更根本、更确定的原则待发掘。



### 探究

​		复习Java的4大特性时，我发现了解剖设计模式的新思路。

1. 让宏观足够宏观，代码形式上的规模与现实行为的规模匹配，有助于快速理解程序的目标和用意-------->封装
2. 体现出逻辑层次关系-------->继承
3. 让微观足够微观，同类的逻辑聚合在一起，使人对细节有把握-------->多态
4. 让使用者实现细节；实现了一种错时合作-------->抽象

这些OO特性像是定理，而单职、父子替换、依赖倒置、隔离、最少知识、开闭这些原则是公理，23种设计模式则是23道例题。

前人早已道出编程的奥秘。

。。。。to be continued
